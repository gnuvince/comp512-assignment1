policy:
	@echo "grant codeBase \"file:$(CURDIR)\" {" > java.policy
	@echo "    permission java.security.AllPermission;" >> java.policy
	@echo "};" >> java.policy

compilehotel: policy
	javac -cp . ResInterface/ResourceManager.java
	javac -cp . ResInterface/ItemManager.java
	jar cvf ResInterface.jar ResInterface/*.class
	javac -cp . ResImpl/*.java

runhotel: compilehotel
	java -cp . -Djava.security.policy=./java.policy -Djava.rmi.server.codebase=file:$(CURDIR) ResImpl.HotelManagerImpl lab7-21.cs.mcgill.ca 5005

clean:
	rm -f ResImpl/*.class
	rm -f ResInterface/*.class
	rm -f ResInterface.jar
